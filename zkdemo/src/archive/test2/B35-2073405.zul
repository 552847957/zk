<?xml version="1.0" encoding="UTF-8"?>

<!--
B35-2073405.zul

{{IS_NOTE
	Purpose:
		
	Description:
		
	History:
		Wed Aug 27 19:19:19 TST 2008, Created by jumperchen
}}IS_NOTE

Copyright (C) 2008 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
-->

<window title="Live Data Demo" border="normal">
Grouping with Live Data - Different Model should has different grouping

<zscript><![CDATA[//@DECLARATION
class RowLabelComparator implements Comparator {
boolean _asc;
public RowLabelComparator(boolean asc) {
_asc = asc;
}
public int compare(Object o1, Object o2) {
String s1 = o1.toString(), s2 = o2.toString();
int v = s1.compareTo(s2);
return _asc ? v: -v;
}
}

]]></zscript>
<zscript><![CDATA[
String[] data = new String[50];
for(int j=0; j<data.length; ++j) {
data[j] = "model1 "+j;
}
String[] data1 = new String[50];
for(int j=0; j<data1.length; ++j) {
data1[j] = "model2 "+j;
}
ListModel model1 = new SimpleGroupModel(data, new int[]{13,3,14,16});
ListModel model2 = new SimpleGroupModel(data1, new int[]{2,5,9,30});


Comparator asc = new RowLabelComparator(true);
Comparator dsc = new RowLabelComparator(false);
]]></zscript>
<separator/>
1. Please click the "model 2" button, you should see the list has changed.(That is correct)
<separator/>
2. Click the "model 1" button, you should see the list has reseted.(That is correct)
<hbox>
<button onClick="gd1.setModel(model2)" label="model 2"/>
<button onClick="gd1.setModel(model1);" label="model 1"/>
</hbox>
<grid width="200px" height="500px" model="${model1}" id="gd1">
<columns>
<column label="Load on Demend (Grid)" sortAscending="${asc}"
sortDescending="${dsc}"/>
</columns>
</grid>

</window>
