<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The onDrop Event</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch07s16.html" title="Drag and Drop"><link rel="prev" href="ch07s16s01.html" title="The draggable and droppable Properties"><link rel="next" href="ch07s16s03.html" title="Dragging with Multiple Selections"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The onDrop Event</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s16s01.html">Prev</a> </td><th width="60%" align="center">Drag and Drop</th><td width="20%" align="right"> <a accesskey="n" href="ch07s16s03.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id485673"></a>The onDrop Event</h3></div></div></div><p>Once user has dragged a component and dropped it to another component, the component that the user dropped the component to will be notified by the onDrop event. The onDrop event is an instance of org.zkoss.ui.event.DropEvent. By calling the getDragged method, you could retrieve what has been dragged (and dropped).</p><p>Notice that the target of the onDrop event is the droppable component, not the component being dragged.</p><p>The following is a simple example that allows users to reorder list items by drag-and-drop.</p><p>
</p><div><img src="images/1000000000000213000000B4ADEE091E.png"></div><p>
</p><pre class="programlisting">&lt;window title="Reorder by Drag-and-Drop" border="normal"&gt;    Unique Visitors of ZK:        &lt;listbox id="src" multiple="true" width="300px"&gt;            &lt;listhead&gt;                    &lt;listheader label="Country/Area"/&gt;                        &lt;listheader align="right" label="Visits"/&gt;                        &lt;listheader align="right" label="%"/&gt;                    &lt;/listhead&gt;                &lt;listitem draggable="true" droppable="true" onDrop="move(event.dragged)"&gt;                    &lt;listcell label="United States"/&gt;                        &lt;listcell label="5,093"/&gt;                        &lt;listcell label="19.39%"/&gt;                    &lt;/listitem&gt;                &lt;listitem draggable="true" droppable="true" onDrop="move(event.dragged)"&gt;                    &lt;listcell label="China"/&gt;                        &lt;listcell label="4,274"/&gt;                        &lt;listcell label="16.27%"/&gt;                    &lt;/listitem&gt;                &lt;listitem draggable="true" droppable="true" onDrop="move(event.dragged)"&gt;                    &lt;listcell label="France"/&gt;                        &lt;listcell label="1,892"/&gt;                        &lt;listcell label="7.20%"/&gt;                    &lt;/listitem&gt;                &lt;listitem draggable="true" droppable="true" onDrop="move(event.dragged)"&gt;                    &lt;listcell label="Germany"/&gt;                        &lt;listcell label="1,846"/&gt;                        &lt;listcell label="7.03%"/&gt;                    &lt;/listitem&gt;                &lt;listitem draggable="true" droppable="true" onDrop="move(event.dragged)"&gt;                    &lt;listcell label="(other)"/&gt;                        &lt;listcell label="13,162"/&gt;                        &lt;listcell label="50.01%"/&gt;                    &lt;/listitem&gt;                &lt;listfoot&gt;                    &lt;listfooter label="Total 132"/&gt;                        &lt;listfooter label="26,267"/&gt;                        &lt;listfooter label="100.00%"/&gt;                    &lt;/listfoot&gt;            &lt;/listbox&gt;        &lt;zscript&gt;        void move(Component dragged) {            self.parent.insertBefore(dragged, self);            }        &lt;/zscript&gt;    &lt;/window&gt;</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s16s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07s16.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s16s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">The draggable and droppable Properties </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Dragging with Multiple Selections</td></tr></table></div></body></html>
