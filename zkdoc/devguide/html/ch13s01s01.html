<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The px_preferred_locale Session Attribute</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch13s01.html" title="Locale"><link rel="prev" href="ch13s01.html" title="Locale"><link rel="next" href="ch13s01s02.html" title="The Request Interceptor"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The px_preferred_locale Session Attribute</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s01.html">Prev</a> </td><th width="60%" align="center">Locale</th><td width="20%" align="right"> <a accesskey="n" href="ch13s01s02.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id494420"></a>The px_preferred_locale Session Attribute</h3></div></div></div><p>Before checking the browser's preferences, ZK will check if a session attribute called px_preferred_locale is defined. If defined, ZK uses it as the default locale for the session instead of the browser's preferences. Thus, you can control the locale of a session by storing the preferred locale in this attribute.</p><p>For example, you can do this when a user logins.</p><pre class="programlisting">void login(String username, String password) {    //check password        ...        Locale preferredLocale = ...; //decide the locale (from, say, database)        session.setAttribute("px_preferred_locale", preferredLocale);        ...    }</pre><p>Tip: To avoid typo, you can use the constant called PREFERRED_LOCALE defined in the org.zkoss.web.Attributes class.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13s01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s01s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Locale </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> The Request Interceptor</td></tr></table></div></body></html>
