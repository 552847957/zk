<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The onOpen Event</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch07s10.html" title="Context Menus"><link rel="prev" href="ch07s10s01.html" title="Customizable Tooltip and Popup Menus"><link rel="next" href="ch07s11.html" title="List Boxes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The onOpen Event</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s10s01.html">Prev</a> </td><th width="60%" align="center">Context Menus</th><td width="20%" align="right"> <a accesskey="n" href="ch07s11.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id483197"></a>The onOpen Event</h3></div></div></div><p>When a context menu, a tooltip or a popup is going to appear (or hide), an onOpen event is sent to the context, tooltip or poup menu for notification. The event is an instance of the org.zkoss.zk.ui.event.OpenEvent class, and you can retrieve the component that causes the context menu, tooltip or popup to appear by calling the getReference method.</p><p>To improve the performance, you defer the creation of the content until it becomes visible &#8211; i.e., until the onOpen event is received.</p><p>The simplest way to defer the creation of the content is to use the fulfill attribute as shown below.</p><pre class="programlisting">&lt;popup id="any" width="300px" fulfill="onOpen"&gt;&lt;button label="Hi"/&gt;&lt;!-- whatever content --&gt;&lt;/popup&gt;</pre><p>Then, the content (the Hi button) won't be created when the page is loaded. Rather, the content is created when the onOpen event is received at the first time.</p><p>If you prefer to dynamically manipulate the content in Java, you can listen to the onOpen event as depicted below.</p><pre class="programlisting">&lt;popup id="any" width="300px"&gt;    &lt;attribute name="onOpen"&gt;        if (event.isOpen()) {            if (self.getChildren().isEmpty()) {                    new Button("Hi").seParent(self);                        ...                    }                if (event.getReference() instanceof Textbox) {                    //you can do component-dependent manipulation here                        ...                    }            }        &lt;/attribute&gt;&lt;/popup&gt;    </pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s10s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07s10.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s11.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Customizable Tooltip and Popup Menus </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> List Boxes</td></tr></table></div></body></html>
