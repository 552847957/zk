<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Overlapped, Popup, Modal, Highlighted and Embedded</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch07s02.html" title="Windows"><link rel="prev" href="ch07s02s06.html" title="Borders"><link rel="next" href="ch07s02s08.html" title="The position Property"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Overlapped, Popup, Modal, Highlighted and Embedded</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch07s02s06.html">Prev</a> </td><th width="60%" align="center">Windows</th><td width="20%" align="right"> <a accesskey="n" href="ch07s02s08.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id479641"></a>Overlapped, Popup, Modal, Highlighted and Embedded</h3></div></div></div><p>A window could be in one of four different modes: overlapped, popup, modal, highlighted and embedded. By default, it is in the embedded mode. You could change the mode by use of the doOverlapped, doPopup, doModal, doHighlighted, and doEmbedded methods, depicted as follows.</p><pre class="programlisting">&lt;zk&gt;    &lt;window id="win" title="Hi!" border="normal" width="200px"&gt;            &lt;caption&gt;                    &lt;toolbarbutton label="Close" onClick="win.setVisible(false)"/&gt;                    &lt;/caption&gt;                &lt;checkbox label="Hello, Wolrd!"/&gt;            &lt;/window&gt;                &lt;button label="Overlap" onClick="win.doOverlapped();"/&gt;        &lt;button label="Popup" onClick="win.doPopup();"/&gt;        &lt;button label="Modal" onClick="win.doModal();"/&gt;        &lt;button label="Embed" onClick="win.doEmbedded();"/&gt;        &lt;button label="Highlighted" onClick="win.doHighlighed();"/&gt;    &lt;/zk&gt;</pre><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479676"></a>Embedded</h4></div></div></div><p>An embedded window is placed inline with other components. In this mode, you cannot change its position, since the position is decided by the browser.</p></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479686"></a>Overlapped</h4></div></div></div><p>An overlapped window is overlapped with other components, such that users could drag it around and developer could set its position by the setLeft and setTop methods.</p><p>In addition to doOverlapped, you can use the mode property as follows.</p><pre class="programlisting">&lt;window title="My Overlapped" width="300px" mode="overlapped"&gt;&lt;/window&gt;</pre></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479709"></a>Popup</h4></div></div></div><p>A popup window is similar to overlapped windows, except it is automatically closed when user clicks on any component other than the popup window itself or any of its descendants. As its name suggested, it is designed to implement popup windows.</p></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479721"></a>Modal</h4></div></div></div><p>A modal window (aka., a modal dialog) is similar to the overlapped windows, except it suspends the execution until one of the endModal, doEmbedded, doOverlapped, doHighlighted, and doPopup methods is called.</p><p>In addition to suspending the execution, it disables components not belonging to the modal window.</p><p>A modal window is positioned automatically at the center of the browser, so you cannot control its position.</p></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479742"></a>Highlighted</h4></div></div></div><p>A highlighted window is similar to the overlapped windows, except the visual effect is the same as the modal windows. In other words, a highlighted window is positioned at the center of the browsers, and components not belonging to the highlighted window are disabled.</p><p>However, it does not suspend the execution. Like the overlapped windows, the execution continues to the next statement once the mode is changed. For example, f1() is called only after win1 is closed, while g() is called immediately after win2 becomes highlighted.</p><pre class="programlisting">win1.doModal(); //the execution is suspended until win1 is closed</pre><p>f1();</p><pre class="programlisting">win2.doHighlighted(); //the execution won't be suspendedg1()</pre><p>The highlighted window is aimed to substitute the modal window, if you prefer not to use or suspend the event processing thread. Refer to the Use the Servlet Thread to Process Events section in the Advanced Features chapter.</p></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id479790"></a>Modal Windows and Event Listeners</h4></div></div></div><p>Unlike other modes, you can only put a window into the modal mode in an event listener. In other words, you can invoke doModal() or setMode("modal") in an event listener.</p><pre class="programlisting">&lt;zk&gt;    &lt;window id="wnd" title="My Modal" visible="false" width="300px"&gt;            &lt;button label="close" onClick="wnd.visible = false"/&gt;            &lt;/window&gt;        &lt;button label="do it" onClick="wnd.doModal()"/&gt;    &lt;/zk&gt;</pre><p>On the other hand, the following is wrong if it executes in the Component Creation Phase<sup>[<a name="id479819" href="#ftn.id479819" class="footnote">36</a>]</sup>.</p><pre class="programlisting">//t1.zul&lt;window title="My Modal" width="300px" closable="true" mode="modal"&gt;&lt;/window&gt;</pre><p>
</p><div><img src="images/10000000000005110000034A677D3288.png"></div><p>It will cause the following result<sup>[<a name="id479847" href="#ftn.id479847" class="footnote">37</a>]</sup> if you browse it directly.</p><p>The following codes will cause the same result.</p><pre class="programlisting">//t2.zul&lt;window title="My Modal" width="300px" closable="true"&gt;    &lt;zscript&gt;            self.doModal();            &lt;/zscript&gt;    &lt;/window&gt;</pre><p>If you need to create a modal window in page loading, you can post the onModal event as follows.</p><pre class="programlisting">//t3.zul&lt;window title="My Modal" width="300px" closable="true"&gt;    &lt;zscript&gt;        Events.postEvent("onModal", self, null);        &lt;/zscript&gt;    &lt;/window&gt;</pre><p>Note: the following codes execute correctly even if t1.zul sets the window's mode to modal directly (as shown above). Why? It executes in an event listener (for onClick).</p><pre class="programlisting">&lt;button label="do it"&gt;    &lt;attribute name="onClick"&gt;        Executions.createComponents("t1.zul", null, null);            //it loads t1.zul in this event listener for onClick            &lt;/attribute&gt;    &lt;/button&gt;</pre></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id479819" href="#id479819" class="para">36</a>] </sup>Refer to the Component Lifecycle chapter.</p></div><div class="footnote"><p><sup>[<a name="ftn.id479847" href="#id479847" class="para">37</a>] </sup>Assume Tomcat is used.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch07s02s06.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07s02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch07s02s08.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Borders </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> The position Property</td></tr></table></div></body></html>
