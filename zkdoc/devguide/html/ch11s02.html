<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Use the Servlet Thread to Process Events</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch11.html" title="11. Performance Tips"><link rel="prev" href="ch11s01s03.html" title="Use the forward Attribute"><link rel="next" href="ch11s02s01.html" title="Modal Windows"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Use the Servlet Thread to Process Events</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11s01s03.html">Prev</a> </td><th width="60%" align="center">11. Performance Tips</th><td width="20%" align="right"> <a accesskey="n" href="ch11s02s01.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id493443"></a>Use the Servlet Thread to Process Events</h2></div></div></div><p>By default, ZK processes an event in an independent thread called the event processing thread. Thus, the developer can suspend and resume the execution at any time, without blocking the servlet thread from sending back the responses to the browser.</p><p>However, it consumes more memory, especially if there are a lot suspended threads, and it may cause some challenge to integrate with other systems that storing information at the Servlet thread's local storage.</p><p>ZK provides an option to let you disable the use of the event processing threads. In other words, you can force ZK to process events all in the Servlet threads like other conventional frameworks. Of course, you cannot suspend the execution if the Servlet thread is used.</p><p>To disable the use of the event processing threads, you have to specify the following content in WEB-INF/zk.xml.</p><pre class="programlisting">&lt;system-config&gt;    &lt;disable-event-thread/&gt;    &lt;/system-config&gt;</pre><p>Here is the advantages and limitations about using the Servlet thread to process events. In the following sections we will talk more about the limitations and workarounds when using the Servlet thread.</p><div class="informaltable"><a name="id493492"></a><table border="1"><colgroup><col><col><col></colgroup><thead><tr><th>
<p></p>
</th><th>
<p>Using Servlet Thread</p>
</th><th>
<p>Using Event Processing Thread</p>
</th></tr></thead><tbody><tr><td>
<p>Integration</p>
</td><td>
<p>Less integration issues.</p>
<p>Many containers assume the HTTP request is handled in the servlet thread.</p>
</td><td>
<p>You may have to implement EventThreadInit and/or EventThreadCleanup to solve the integration issue.</p>
<p>ZK and the community keep providing versatile implementations to solve the integration issue.</p>
</td></tr><tr><td>
<p>SuspendResume</p>
</td><td>
<p>No way to suspend the execution of the event listener.</p>
<p>For example, you cannot create a modal window.</p>
</td><td>
<p>No limitation at all.</p>
</td></tr></tbody></table></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11s01s03.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch11.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch11s02s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Use the forward Attribute </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Modal Windows</td></tr></table></div></body></html>
