<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Configure the ZK Loader Not to Compress the Output</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch10s14.html" title="Miscellaneous"><link rel="prev" href="ch10s14.html" title="Miscellaneous"><link rel="next" href="ch11.html" title="11. Performance Tips"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Configure the ZK Loader Not to Compress the Output</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s14.html">Prev</a> </td><th width="60%" align="center">Miscellaneous</th><td width="20%" align="right"> <a accesskey="n" href="ch11.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id493163"></a>Configure the ZK Loader Not to Compress the Output</h3></div></div></div><p>By default, the output of the ZK loader and filter is compressed, if the browser supports the content compression<sup>[<a name="id493174" href="#ftn.id493174" class="footnote">58</a>]</sup> (and the output is not included by other Servlets). By compressing the output, the transmission time over a slow Internet connection is reduced dramatically.</p><p>However, if you want to use a filter to post-process the output, the compression may not be applicable. In this case, you can disable it by specifying the compress parameter (init-param) to be true, when configuring the ZK loader in WEB-INF/web.xml as follows.</p><pre class="programlisting">&lt;servlet&gt;    &lt;servlet-name&gt;zkLoader&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.zkoss.zk.ui.http.DHtmlLayoutServlet&lt;/servlet-class&gt;        &lt;init-param&gt;            &lt;param-name&gt;update-uri&lt;/param-name&gt;                &lt;param-value&gt;/zkau&lt;/param-value&gt;            &lt;/init-param&gt;        &lt;init-param&gt;            &lt;param-name&gt;compress&lt;/param-name&gt;                &lt;param-value&gt;false&lt;/param-value&gt;            &lt;/init-param&gt;    &lt;/servlet&gt;</pre><p>Notice: you can configure multiple ZK loader in one Web application. Each of them with a different options.</p><pre class="programlisting">&lt;servlet&gt;    &lt;servlet-name&gt;zkLoader1&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.zkoss.zk.ui.http.DHtmlLayoutServlet&lt;/servlet-class&gt;    ...&lt;/servlet&gt;&lt;servlet&gt;    &lt;servlet-name&gt;zkLoader2&lt;/servlet-name&gt;        &lt;servlet-class&gt;org.zkoss.zk.ui.http.DHtmlLayoutServlet&lt;/servlet-class&gt;    ...&lt;/servlet&gt;</pre><p>Similarly, you can configure the ZK filter (org.zkoss.zk.ui.http.DHtmlLayoutFilter) not to compress the output, too.</p><pre class="programlisting">&lt;filter&gt;    &lt;filter-name&gt;zkFilter&lt;/filter-name&gt;        &lt;filter-class&gt;org.zkoss.zk.ui.http.DHtmlLayoutFilter&lt;/filter-class&gt;        &lt;init-param&gt;            &lt;param-name&gt;extension&lt;/param-name&gt;                &lt;param-value&gt;html&lt;/param-value&gt;            &lt;/init-param&gt;    </pre><p>&lt;init-param&gt;</p><p>&lt;param-name&gt;compress&lt;/param-name&gt;</p><p>&lt;param-value&gt;false&lt;/param-value&gt;</p><p>&lt;/init-param&gt;</p><pre class="programlisting">&lt;/filter&gt;</pre><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id493174" href="#id493174" class="para">58</a>] </sup>Refer to 14.3 Accept-Encoding in http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s14.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch10s14.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch11.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Miscellaneous </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 11. Performance Tips</td></tr></table></div></body></html>
