<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Sorting</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch10.html" title="10. Advanced Features"><link rel="prev" href="ch10s02s01.html" title="The Component Path"><link rel="next" href="ch10s04.html" title="Browser's Information and Controls"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Sorting</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s02s01.html">Prev</a> </td><th width="60%" align="center">10. Advanced Features</th><td width="20%" align="right"> <a accesskey="n" href="ch10s04.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en-US"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id491172"></a>Sorting</h2></div></div></div><p>The list returned from the getChildren method of the org.zkoss.zk.ui.Component interface is live. So is the getItems method of the org.zkoss.zul.Listbox interface and others. In other words, you can manipulate it content directly. For example, the following statements are equivalent:</p><pre class="programlisting">comp.getChildren().remove(0);((Component)comp.getChildren().get(0)).setParent(null);</pre><p>However, you cannot use the sort method of the java.util.Collections class to sort them. The reason is subtle: the list of children automatically removes a child from the original position, when you add it to another position. For example, the following statement actually moves the second child in front of the first child.</p><pre class="programlisting">comp.getChildren().add(0, comp.getChildren().get(1));</pre><p>It behaves differently from a normal list (such as LinkedList), so the sort method of Collections won't work.</p><p>To simplify the sorting of components, we therefore provide the sort method in the org.zkoss.zk.ui.Components class that works with the list of children.</p><p>In the following example, we utilize the sort method and the org.zkoss.zul.ListitemComparator to provide the sorting for a list box.</p><p>Notice that this is only for illustration because list boxes support sorting of list items directly. Refer to the Sorting subsection of the List Boxes section in the ZUML with the XUL Component Set chapter.</p><pre class="programlisting">&lt;window title="Sort Listbox" border="normal" width="200px"&gt;<img src="images/10000000000000D30000009AAB835ED5.png" align="right">    &lt;vbox&gt;            &lt;listbox id="l"&gt;                    &lt;listhead&gt;                            &lt;listheader label="name"/&gt;                                &lt;listheader label="gender"/&gt;                            &lt;/listhead&gt;                        &lt;listitem&gt;                            &lt;listcell label="Mary"/&gt;                                &lt;listcell label="FEMALE"/&gt;                            &lt;/listitem&gt;                        &lt;listitem&gt;                            &lt;listcell label="John"/&gt;                                &lt;listcell label="MALE"/&gt;                            &lt;/listitem&gt;                        &lt;listitem&gt;                            &lt;listcell label="Jane"/&gt;                                &lt;listcell label="FEMALE"/&gt;                            &lt;/listitem&gt;                        &lt;listitem&gt;                            &lt;listcell label="Henry"/&gt;                                &lt;listcell label="MALE"/&gt;                            &lt;/listitem&gt;                    &lt;/listbox&gt;                &lt;hbox&gt;                    &lt;button label="Sort 1" onClick="sort(l, 0)"/&gt;                        &lt;button label="Sort 2" onClick="sort(l, 1)"/&gt;                    &lt;/hbox&gt;            &lt;/vbox&gt;        &lt;zscript&gt;        void sort(Listbox l, int j) {            Components.sort(l.getItems(), new ListitemComparator(j));            }        &lt;/zscript&gt;    &lt;/window&gt;</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s02s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch10.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch10s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">The Component Path </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Browser's Information and Controls</td></tr></table></div></body></html>
