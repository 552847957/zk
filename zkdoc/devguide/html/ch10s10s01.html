<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Annotate ZUML Pages</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch10s10.html" title="Annotations"><link rel="prev" href="ch10s10.html" title="Annotations"><link rel="next" href="ch10s10s02.html" title="Annotate Components Created Manually"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Annotate ZUML Pages</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch10s10.html">Prev</a> </td><th width="60%" align="center">Annotations</th><td width="20%" align="right"> <a accesskey="n" href="ch10s10s02.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id492027"></a>Annotate ZUML Pages</h3></div></div></div><p>Annotations can be applied to declarations of components and properties in ZUML pages. There are two way to annotate them: the classic way and the simple way. Which one to use depends on your favorite. You can mix them in the same page if you like.</p><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id492039"></a>The Classic Way to annotate the Component Declarations</h4></div></div></div><p>The annotation appears before the declaration of the element that you want to annotate:</p><pre class="programlisting">&lt;window xmlns:a="http://www.zkoss.org/2005/zk/annotation"&gt;    &lt;vbox&gt;            &lt;a:author name="John Magic" date="3/17/2006"/&gt;                &lt;listbox&gt;                &lt;/listbox&gt;        ...</pre><p>The annotation is an element in the <a class="ulink" href="http://www.zkoss.org/2005/zk/annotation" target="_top">http://www.zkoss.org/2005/zk/annotation</a> namespace. The element name and attributes can be anything depending on the tool you use. You can annotate the same component declaration with several annotations:</p><pre class="programlisting">&lt;a:author name="John Magic"/&gt;&lt;a:editor name="Mary White" date="4/11/2006"/&gt;&lt;listbox/&gt;</pre><p>where author and editor are the annotation names, while name and date are the attribute names. In other words, an annotation consists of a name and a map of attributes.</p><p>If the annotations annotating a declaration have the same name, they are merged as a single annotation. For example,</p><pre class="programlisting">&lt;a:define var1="auto"/&gt;&lt;a:define var2="123"/&gt;&lt;listbox/&gt;</pre><p>is equivalent to</p><pre class="programlisting">&lt;a:define var1="auto" var2="123"/&gt;&lt;listbox/&gt;</pre><p>Note: Annotations don't support EL expressions.</p></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id492119"></a>The Classic Way to Annotate the Property Declarations</h4></div></div></div><p>To annotation a property declaration, you can put the annotation in front of the declaration of a property as shown below.</p><pre class="programlisting">&lt;listitem a:bind="datasource='author',name='name'" value="${author.name}"/&gt;</pre><p>Alternatively, you can use the attribute element and annotate the declaration of a property similar to the component declaration. In other words, the above annotation is equivalent to the following:</p><pre class="programlisting">&lt;listitem&gt;    &lt;a:bind datasource="author" name="name"/&gt;        &lt;attribute name="value"&gt;${author.name}&lt;/attribute&gt;    &lt;/listitem&gt;</pre><p>Note: if the attribute name of a annotation is omitted, the name is assumed to be value. For example,</p><pre class="programlisting">&lt;listitem a:bind="value='selected'" value=""/&gt;</pre><p>is equivalent to</p><pre class="programlisting">&lt;listitem a:bind="selected" value=""/&gt;</pre></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id492178"></a>The Simple Way to Annotate the Property Declarations</h4></div></div></div><p>In addition to annotating with the special XML namespace as described above, there is a simple way to annotate properties: specify a value with an annotation expression for the property to annotate, as show below.</p><pre class="programlisting">&lt;listitem label="@{bind(datasource='author',selected)}"/&gt;</pre><p>The format of the annotation expression is @{annot-name(attr-name1=attr-value1, attr-name2=attr-value2)}. In other words, if the value of the property is an anntation expression, it is considered as the annotation for the corresponding property, rather than its value. In the above example, an annotation called bind is annotated to the label property. Thus, it is equivalent to</p><pre class="programlisting">&lt;listitem a:bind=" datasource='author',selected" label=""/&gt;</pre><p>If the annotation name is not specified, the name is assumed to be default. For example, the following code snippet annotates the label property with an annotation named default, and the annotation has one attribute whose name and value are value and selected.name, respectively.</p><pre class="programlisting">&lt;listitem label="@{selected.name}"/&gt;</pre><p>In other words, it is equivalent to the following code snippet.</p><pre class="programlisting">&lt;listitem label="@{default(value='selected.name')}"/&gt;</pre><p>Note: you can annotate the same property with multiple annotations, as shown below.</p><pre class="programlisting">&lt;listitem label="@{ann1(selected.name) ann2(attr2a='attr2a',attr2b)}"/&gt;</pre></div><div class="sect3" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a name="id492258"></a>The Simple Way to Annotate the Component Declarations</h4></div></div></div><p>Similarly, you can annotate a component by specifying the annotation expression to a specific attribute called self as shown below.</p><pre class="programlisting">&lt;listitem self="@{bind(each=person)}"/&gt;</pre><p>where self is a keyword to denote the annotation is used to annotate the component declaration, rather than any property. In other words, it is equivalent to</p><pre class="programlisting">&lt;a:bind each="person"/&gt;&lt;listitem/&gt;</pre></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch10s10.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch10s10.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch10s10s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Annotations </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Annotate Components Created Manually</td></tr></table></div></body></html>
