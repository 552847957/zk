<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Deferrable Event Listeners</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch05s02.html" title="Add and Remove Event Listeners by Program"><link rel="prev" href="ch05s02s02.html" title="Add and Remove Event Listeners Dynamically"><link rel="next" href="ch05s02s04.html" title="Add and Remove Event Listeners to Pages Dynamically"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Deferrable Event Listeners</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch05s02s02.html">Prev</a> </td><th width="60%" align="center">Add and Remove Event Listeners by Program</th><td width="20%" align="right"> <a accesskey="n" href="ch05s02s04.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id455968"></a>Deferrable Event Listeners</h3></div></div></div><p>By default, events are sent the server when it is fired at the client. However, many event listeners are just used to maintain the status at the server, rather than providing visual response to the user. In other words, the events for these listeners have no need to be sent immediately. Rather, they shall be sent at once to minimize the traffic between the client and the server, and then to improve the server's performance. For the sake of the description convenience, we call them the deferrable event listeners.</p><p>To make an event listener deferrable, you have to implement the org.zkoss.zk.ui.event.Deferrable interface (with EventListener) and return true for the isDeferrable method as follows.</p><pre class="programlisting">public class DeferrableListener implements EventListener, Deferrable {    private boolean _modified;        public void onEvent(Event event) {            _modified = true;            }        public boolean isDeferrable() {            return true;            }    }</pre><p>When an event is fired at the client (e.g., the user selects a list item), ZK won't send the event if no event listener is registered for it or only deferrable listeners are registered. instead, the event is queued at the client.</p><p>On the hand, if at least one non-deferrable listener is registered, the event are sent immediately with all queued events to the server at once. No event is lost and the arriving order is preserved.</p><p>Tip: Use the deferrable listeners for maintaining the server status, while the non-deferrable listeners for providing the visual responses for the user.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch05s02s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch05s02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch05s02s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Add and Remove Event Listeners Dynamically </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Add and Remove Event Listeners to Pages Dynamically</td></tr></table></div></body></html>
