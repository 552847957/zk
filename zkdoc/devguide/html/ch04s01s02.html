<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The Component Creation Phase</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch04s01.html" title="The Lifecycle of Loading Pages"><link rel="prev" href="ch04s01s01.html" title="The Page Initial Phase"><link rel="next" href="ch04s01s03.html" title="The Event Processing Phase"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The Component Creation Phase</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s01s01.html">Prev</a> </td><th width="60%" align="center">The Lifecycle of Loading Pages</th><td width="20%" align="right"> <a accesskey="n" href="ch04s01s03.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id455560"></a>The Component Creation Phase</h3></div></div></div><p>In this phase, ZK loader interprets an ZUML page. It creates and initializes components accordingly. It takes several steps as follows.</p><div class="orderedlist"><ol type="1"><li><p>For each element, it examines the if and unless attribute to decide whether it is effective. If not, the element and all of its child elements are ignored.</p></li><li><p>If the forEach attribute is specified with a collection of items, ZK repeats the following steps for each item in the collection.</p></li><li><p>Creates a component based on the element name, or by use of the class specified in the use attribute, if any.</p></li><li><p>Initializes the members one-by-one based on the order that attributes are specified in the ZUML page.</p></li><li><p>Interprets the nested elements and repeat the whole procedure.</p></li><li><p>Invokes the afterCompose method if the component implements the org.zkoss.zk.ui.ext.AfterCompose interface<sup>[<a name="id455631" href="#ftn.id455631" class="footnote">28</a>]</sup>.</p></li><li><p>After all children are created, the onCreate event is sent to this component, such that application could initialize the content of some elements later. Notice that the onCreate events are posted for child components first.</p></li></ol></div><p>Note: an developer can perform some application-specific initialization by listening to the onCreate event or implementing AfterCompose. AfterCompose is called in the Component Creation Phase, while the onCreate event is handled by an event listener. </p><p>An event listener is free to suspend and resume the execution (such as creating modal dialogs), while AfterCompose is a bit faster since no need to fork another thread.</p><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.id455631" href="#id455631" class="para">28</a>] </sup>The step 3-5 is so-called composing. That is why AfterCompose is named.</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s01s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04s01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04s01s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">The Page Initial Phase </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> The Event Processing Phase</td></tr></table></div></body></html>
