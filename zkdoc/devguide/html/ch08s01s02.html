<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Server-Centric Interactivity</title><link rel="stylesheet" href="devguide.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.0"><link rel="start" href="index.html" title="ZK Developer's Guide"><link rel="up" href="ch08s01.html" title="The Goal"><link rel="prev" href="ch08s01s01.html" title="A XHTML Page Is A Valid ZUML Page"><link rel="next" href="ch08s01s03.html" title="Servlets Work As Usual"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Server-Centric Interactivity</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch08s01s01.html">Prev</a> </td><th width="60%" align="center">The Goal</th><td width="20%" align="right"> <a accesskey="n" href="ch08s01s03.html">Next</a></td></tr></table><hr></div><div class="sect2" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a name="id489302"></a>Server-Centric Interactivity</h3></div></div></div><p>As being a ZUML page, it could embed any Java codes and execute them in the server as follows.</p><pre class="programlisting">&lt;html xmlns:zk="http://www.zkoss.org/2005/zk"&gt;&lt;head&gt;    &lt;title&gt;ZHTML Demo&lt;/title&gt;    &lt;/head&gt;&lt;body&gt;    &lt;h1&gt;ZHTML Demo&lt;/h1&gt;        &lt;ul id="ul"&gt;            &lt;li&gt;The first item.&lt;/li&gt;                &lt;li&gt;The second item.&lt;/li&gt;            &lt;/ul&gt;        &lt;input type="button" value="Add Item" zk:onClick="addItem()"/&gt;        &lt;br/&gt;        &lt;input id="inp0" type="text" zk:onChange="add()"/&gt; +        &lt;input id="inp1" type="text" zk:onChange="add()"/&gt; =        &lt;text id="out"/&gt;    </pre><p>&lt;zscript&gt;</p><p>void addItem() {</p><p>Component li = new Raw("li");</p><p>li.setParent(ul);</p><p>new Text("Item "+ul.getChildren().size()).setParent(li);</p><p>}</p><p>void add(){</p><p>out.setValue(inp0.getValue() + inp1.getValue());</p><p>}</p><p>&lt;/zscript&gt;</p><pre class="programlisting">&lt;/body&gt;&lt;/html&gt;</pre><p>In the above example, we use the ZK namespace to specify the onClick property. It is necessary because XHTML itself has a property with the same name.</p><p>It is interesting to note that all Java codes are running at the server. Thus, unlike JavaScript you are used to embed in HTML pages, you could access any resource at the server directly. For example, you could open a connection to a database and retrieve the data to fill in certain components.</p><pre class="programlisting">&lt;zscript&gt;import java.sql.*;void addItem() {    Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");        String url = "jdbc:odbc:Fred";        Connection conn = DriverManager.getConnection(url,"myLogin", "myPassword");        ...        conn.close();    }&lt;/zscript&gt;</pre></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch08s01s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch08s01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch08s01s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">A XHTML Page Is A Valid ZUML Page </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Servlets Work As Usual</td></tr></table></div></body></html>
