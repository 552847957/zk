<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<book lang="en-US">
<title>クイックスタートガイド</title>
<subtitle>Version 5.0.4</subtitle>
<bookinfo>
<copyright>
<year>2009</year>
<holder>Potix Corporation. All rights reserved.</holder>
</copyright>
</bookinfo>
<para>
<graphic fileref=""/>
</para>
<para>SIMPLY RICH</para>
<para>ZKTM</para>
<para/>
<para>December 2009</para>
<para>Potix Corporation</para>
<para/>
<para/>
<para/>
<para>Copyright © Potix Corporation. All rights reserved.</para>
<para>The material in this document is for information only and is subject to change without notice. While reasonable efforts have been made to assure its accuracy, Potix Corporation assumes no liability resulting from errors or omissions in this document, or from the use of the information contained herein.</para>
<para>Potix Corporation may have patents, patent applications, copyright or other intellectual property rights covering the subject matter of this document. The furnishing of this document does not give you any license to these patents, copyrights or other intellectual property.</para>
<para>Potix Corporation reserves the right to make changes in the product design without reservation and without notification to its users.</para>
<para>The Potix logo and ZK are trademarks of Potix Corporation.</para>
<para>All other product names are trademarks, registered trademarks, or trade names of their respective owners.</para>
<chapter>
<title>はじめに</title><sect1><title>サーブレットコンテナ (Java Web Server)のご紹介</title>
<para>Javaでウェブアプリケーションを開発するにはサーブレットコンテナをインストールしなければなりません。Apache Tomcatは最も普及しているサーブレットコンテナの一つです。Tomcatをインストールする方法はとても簡単です。</para>
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row>
<entry>
<para>Prerequisites</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead><tbody>
<row>
<entry>
<para>Download</para>
</entry>
<entry>
<para>
<ulink url="http://www.apache.org/dist/tomcat/tomcat-5/v5.5.20/bin/apache-tomcat-5.5.20.exe">Installer for Windows:</ulink>
<ulink url="http://www.apache.org/dist/tomcat/tomcat-5/v5.5.20/bin/apache-tomcat-5.5.20.exe">apache-tomcat-5.5.20.exe</ulink>
</para>
<para>A list of all available versions:<ulink url="http://tomcat.apache.org/download-55.cgi">http://tomcat.apache.org/download-55.cgi</ulink>
</para>
</entry>
</row>
<row>
<entry>
<para>Documentation</para>
</entry>
<entry>
<para>
<ulink url="http://tomcat.apache.org/tomcat-5.5-doc/index.html">http://tomcat.apache.org/tomcat-5.5-doc/index.html</ulink>
</para>
</entry>
</row></tbody></tgroup>
</informaltable></sect1><sect1><title>Java言語のご紹介</title>
<para>HTMLに類似するZUMLという言語を使えば、Javaが分からなくてもZKでリッチなユーザーインターフェースを実現することは可能です。但し、一つのウェブアプリケーションを完成するのに、Javaの基本知識は必要です。Javaのチュートリアルをいくつかリストアップしました。</para>
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row>
<entry>
<para>Java</para>
</entry>
<entry>
<para>URLs</para>
</entry>
</row>
</thead><tbody>
<row>
<entry>
<para>Language Basic</para>
</entry>
<entry>
<para>
<ulink url="http://java.sun.com/docs/books/tutorial/java/nutsandbolts/index.html">http://java.sun.com/docs/books/tutorial/java/nutsandbolts/index.html</ulink>
</para>
</entry>
</row>
<row>
<entry>
<para>Class and Object</para>
</entry>
<entry>
<para>
<ulink url="http://java.sun.com/docs/books/tutorial/java/concepts/index.html">http://java.sun.com/docs/books/tutorial/java/concepts/index.html</ulink>
</para>
<para>
<ulink url="http://java.sun.com/docs/books/tutorial/java/javaOO/index.html">http://java.sun.com/docs/books/tutorial/java/javaOO/index.html</ulink>
</para>
<para>
<ulink url="http://java.sun.com/docs/books/tutorial/java/IandI/index.html">http://java.sun.com/docs/books/tutorial/java/IandI/index.html</ulink>
</para>
</entry>
</row></tbody></tgroup>
</informaltable></sect1><sect1><title>統合開発環境 (IDE)のご紹介</title>
<para>Eclipseは最もよく知られているJava統合開発環境の一つです。IDEの使用により、ウェブアプリケーションの開発・デバッグは簡単になります。さらに、ZKのソースコードをデバッグする作業を通してZKへの理解を深めることができます。</para>
<para>ステップ・バイ・ステップガイドは”small talks”より確認できます。</para>
<para>
<ulink url="http://www.zkoss.org/smalltalks/eclipse/ek.html">http://www.zkoss.org/smalltalks/eclipse/ek.html</ulink>
</para></sect1></chapter>
<chapter>
<title>1. ダウンロード</title>
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row>
<entry>
<para>File</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead><tbody>
<row>
<entry>
<para>
<code>zk-bin-5.0.4</code>
<code>.tar.gz</code>
<code>zk-</code>
<code>bin-</code>
<code>5.0.4</code>
<code>.zip</code>
</para>
</entry>
<entry>
<para>Zkを使用するのに、必要なバイナリファイルと最低必要なライブラリーです。</para>
<para>コミュニティ版です。</para>
</entry>
</row>
<row>
<entry>
<para>
<code>zk-bin-</code>
<code>prof</code>
<code>-5.0.4</code>
<code>.tar.gz　</code>
<code>zk-</code>
<code>bin-prof-</code>
<code>5.0.4</code>
<code>.zip</code>
</para>
</entry>
<entry>
<para>ZKのバイナリパッケージです。ZKコミュニティ版にあるすべてのファイルと、JFreeChart・GoogleMaps・Jasper Reports・レイアウトコンポーネンツが含まれています。</para>
<para>Pro版です。</para>
</entry>
</row>
<row>
<entry>
<para>
<code>zk-bin-ent-5.0.4</code>
<code>.tar.gz</code>
<code>zk-bin-ent-5.0.4</code>
<code>.zip</code>
</para>
</entry>
<entry>
<para>ZKのバイナリパッケージです。ZK Pro版にあるすべてのファイル、アクセシビリティ関係、パフォーマンス向上ファイル(<code>zkmax.jar</code>)、 Ruby/Groovy/JavaScript/MVEL/OGNLのためのプラグインなどが入っています。</para>
<para>エンタープライズ版です。</para>
</entry>
</row>
<row>
<entry>
<para>
<code>Zk-demo-</code>
<code>5.0.4</code>
<code>.zip</code>
</para>
</entry>
<entry>
<para>独立した<code>zkdemo</code>アプリケーションをWARとEARのフォーマットで提供します。デモアプリケーションのソースコードも含まれています。</para>
<para>デモ用サンプルを見るにはウェブサーバ等の設定は一切不要です。</para>
</entry>
</row>
<row>
<entry>
<para>
<code>Zk-</code>
<code>javadoc-5.0.4.</code>
<code>zip</code>
</para>
</entry>
<entry>
<para>ZKフレームワークにてJava APIを使用するマニュアルです。</para>
</entry>
</row>
<row>
<entry>
<para>
<code>Zk-</code>
<code>src-5.0.4.</code>
<code>tar.gz</code>
</para>
</entry>
<entry>
<para>ZKフレームワークのソースコードです。</para>
</entry>
</row></tbody></tgroup>
</informaltable>
<para/>
</chapter>
<chapter>
<title>2. デモファイルを実行してみよう</title>
<para>ZKの能力を試すのであれば、下記のURLを参照しましょう。</para>
<para>　　 <ulink url="http://www.zkoss.org/zkdemo/userguide">http://www.zkoss.org/zkdemo/userguide</ulink>
</para>
<para>また、ローカルサーバでデモを実行する方法は次の通りです。</para>
<orderedlist>
<listitem>
<para>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309">S</ulink>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309">ource</ulink>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309">F</ulink>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309">orge.net</ulink>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309"> から次のファイルをダウンロードします： </ulink>
<ulink url="http://sourceforge.net/project/showfiles.php?group_id=152762&amp;package_id=169309">
<code>zk-demo-5.0.4.zip</code>
</ulink>
</para>
</listitem>
<listitem>
<para>ファイルを解凍し、<code>zkdemo.war</code> か <code>zkdemo.ear</code>をウェブサーバまたはアプリケーションサーバにデプロイします。ほとんどのサーバは管理用のコンソールを持ち、それを使えば簡単にアプリケーションをデプロイすることができます。手順は関連するマニュアルを参照するか、下記ZKコミュニティーのURLをご確認ください： <ulink url="http://en.wikibooks.org/wiki/ZK/How-Tos#Installation_and_Configuration">
<code>http://en.wikibooks.org/wiki/ZK/How-Tos#Installation_and_Configuration</code>
</ulink>Tomcatサーバの場合は、アプリケーションを <code>$TOMCAT_DIR/webapps</code> フォルダにコピーすればTomcatは自動的にデプロイしてくれます。</para>
</listitem>
<listitem>
<para>
<code>zkdemo.war</code>のデプロイが完了しましたら、<ulink url="http://localhost:8080/zkdemo-all/userguide">
<code>http://localhost:8080/zkdemo/userguide</code>
</ulink>
<ulink url="http://localhost:8080/zkdemo-all/userguide">へアクセスしてみてください。ポート番号はウェブサーバの設定によって、必ずしも8080ではありません。ウェブサーバーにより、EARファイルしかデプロイできない場合があります。その場合は、</ulink>
<ulink url="http://localhost:8080/zkdemo-all/userguide">
<code>zkdemo.</code>
</ulink>
<ulink url="http://localhost:8080/zkdemo-all/userguide">
<code>ear</code>
</ulink>
<ulink url="http://localhost:8080/zkdemo-all/userguide">を使いましょう。</ulink>
</para>
</listitem>
</orderedlist>
</chapter>
<chapter>
<title>3. インストール</title>
<para>ZKはライブラリー集(the JAR files)を持っています。これらのライブラリーをTomcatサーバへインストールする方法は二つあります。一つ目はこれらのファイルをウェブアプリケーションに添付(bundle)します。つまり、アプリケーションの<code>WEB-INF/lib</code> フォルダにコピーします。この方法のメリットは今後アプリケーションを他のウェブサーバにデプロイする際、サーバでの設定は不要になります。</para>
<para>二つ目はライブラリーを使用するウェブサーバまたはアプリケーションサーバにインストールします。つまり、共有フォルダにコピーします。 (Tomcatの場合は<code>shared/lib</code>)。この方法のメリットは共有ディレクトリにアクセスできるすべてのアプリケーションはZKを使用することが可能になります。</para><sect1><title>方法 1: ZKをアプリケーションに添付する</title>
<para>ZKのライブラリーをウェブアプリケーションの適当なフォルダにコピーすることで、アプリケーションをサーバへデプロイする際、サーバ側の設定は一切不要になります。</para>
<para>ZKライブラリーをWARファイルに添付する(ウェブアプリ)</para>
<orderedlist>
<listitem>
<para>
<code>zk-</code>
<code>bin-</code>
<code>5.0.4</code>
<code>.zip</code> または<code> zk-bin-5.0.4</code>
<code>.tar.gz</code>を解凍します。</para>
</listitem>
<listitem>
<para>
<code>dist/lib/*.jar, dis</code>
<code>t/zkforge/*.jar,</code>
<code> dist/lib/ext/*.jar</code> をウェブアプリケーションの<code>/WEB-INF/lib</code> ディレクトリーにコピーします。</para>
<para>
<code>dis</code>
<code>t/zkforge </code>の下にある全部のライブラリーと<code>dist/lib/ext</code>の下にある一部のライブラリーはオプションライブラリーです。オプションファイルにつしては次の章をご覧ください。</para>
</listitem>
</orderedlist>
<para>ZKライブラリーをEARファイルに添付する(the Java EE application)</para>
<orderedlist>
<listitem>
<para>
<code>zk-bin-5.0.4</code>
<code>.zip</code> か <code>zk-bin-5.0.4</code>
<code>.tar.gz</code>を解凍します。</para>
</listitem>
<listitem>
<para>
<code>dist/lib/*.jar, dis</code>
<code>t/zkforge/*.jar,</code>
<code> dist/lib/ext/*.jar</code> をJava Eeアプリケーションのホームディレクトリーにコピーします。</para>
<para>
<code>dis</code>
<code>t/zkforge</code> の下にある全部のライブラリーと<code>dist/lib/ext</code>の下にある一部のライブラリーはオプションです。オプションファイルにつしては次の章をご覧ください。</para>
</listitem>
</orderedlist></sect1><sect1><title>方法 2: ZKライブラリーを共有フォルダに置く</title>
<para>この方法はZKライブラリーを共有フォルダに置きます。やり方はウェブサーバによって違います。</para>
<para>ZKをTomcatにインストール</para>
<orderedlist>
<listitem>
<para>
<ulink url="http://tomcat.apache.org/">http://tomcat.apache.org</ulink> からTomcatをダウンロードし、インストールします。</para>
</listitem>
<listitem>
<para>Tomcatを停止します。</para>
</listitem>
<listitem>
<para>
<code>zk-bin-5.0.4</code>
<code>.zip </code>もしくは <code>zk-bin-5.0.4</code>
<code>.tar.gz</code>を解凍します。</para>
</listitem>
<listitem>
<para>
<code>dist/lib/*.jar</code>と<code> dis</code>
<code>t/zkforge/*.jar</code>
<code>と</code>
<code> dist/lib/ext/*.jar</code> を <code>$TOMCAT_HOME</code>
<code>
<footnote>
<para>$TOMCAT_HOME はTomcatをインストールしたホームディレクトリーです。</para>
</footnote>
</code>
<code>/shared/lib</code>　にコピーします。<code>dis</code>
<code>t/zkforge</code> の全てのライブラリーと<code>dist/lib/ext </code>にある一部のライブラリーはオプションです。オプションファイルにつしては次の章をご覧ください。</para>
</listitem>
<listitem>
<para>Tomcatを再起動します。</para>
</listitem>
</orderedlist>
<para>上記手順に従ってライブラリーのコピーが完了したら、ウェブアプリケーション(<code>demo/bin/zkdemo-min.war</code>) をTomcatにデプロイしましょう。Tomcatマネジャーを利用してデプロイするか、ファイルを <code>$TOMCAT_HOME/webapps</code> にコピーします。 ファイルをコピーする場合、Tomcatを一旦停止しなければなりません。デプロイが完了したら<ulink url="http://localhost/zkdemo/userguide">
<code>http://localhost:8080/zkdemo/userguide</code>
</ulink>より結果を確認できます。なお、上記のパスはウェブサーバの設定により異なります。</para>
<para>補足：Tomcat 6.x は、デフォルトでは、 shared/lib にあるクラスを読み込ません。読み込ませるには conf/catalina.properties ファイルで以下を指定します：</para>
<para>shared.loader=${catalina.base}/shared/lib/*.jar</para>
<para>ZKをJettyにインストール</para>
<orderedlist>
<listitem>
<para>
<ulink url="http://www.mortbay.org/jetty/index.html">http://www.mortbay.org/jetty/index.html</ulink> からJettyをダウンロードし、インストール<footnote>
<para>
<ulink url="http://docs.codehaus.org/display/JETTY/Jetty+Documentation">http://docs.codehaus.org/display/JETTY/Jetty+Documentation</ulink>
</para>
</footnote>します。</para>
</listitem>
<listitem>
<para>Jettyを停止します。</para>
</listitem>
<listitem>
<para>
<code>zk-bin-5.0.4</code>
<code>.zip</code> もしくは <code>zk-bin-5.0.4</code>
<code>.tar.gz</code>を解凍します。</para>
</listitem>
<listitem>
<para>
<code>dist/lib/*.jar</code>と<code> dis</code>
<code>t/zkforge/*.jar</code>と <code>dist/lib/ext/*.jar</code> を <code>$JETTY_HOME/ext</code>にコピーします。<code>dist/zkforge</code> にある全てのライブラリーと <code>dist/lib/ext</code> にある一部のライブラリーはオプションライブラリーです。オプションファイルにつしては次の章をご覧ください。</para>
</listitem>
<listitem>
<para>Jettyを再起動します。</para>
</listitem>
</orderedlist>
<para>上記手順に従ってライブラリーのコピーが完了したら、ウェブアプリケーション（<code>demo/bin/zkdemo-min.war</code>) を <code>$JETTY_HOME/webapps</code> にコピーしましょう。デプロイ成功したら<code> </code>
<ulink url="http://localhost/zkdemo/userguide">
<code>http://localhost:8080/zkdemo/userguide</code>
</ulink>
<ulink url="http://localhost/zkdemo/userguide">より結果を確認できます。なお、</ulink>上記のパスはウェブサーバの設定により異なります。</para></sect1><sect1><title>MySQL<footnote>
<para>
<ulink url="http://www-jp.mysql.com/">http://www-jp.mysql.com/</ulink>
</para>
</footnote>を使う</title>
<footnote>
<para>
<ulink url="http://www-jp.mysql.com/">http://www-jp.mysql.com/</ulink>
</para>
</footnote>
<para>zscriptにてコネクションを張るにはMySQL JDBC ドライバ( mysql-connector-*.jar ) を<code> </code>
<code>$TOMCAT_DIR/common/lib</code>に置かなければなりません。</para></sect1></chapter>
<chapter>
<title>4. ZKパッケージ</title>
<para>この章は<code>zk-bin-5.0.4</code>
<code>.zip</code>について説明します。</para><sect1><title>/doc</title>
<para>コピーライト・リリースノート等ドキュメントはこのフォルダに入っています。</para></sect1><sect1><title>/dist/lib</title>
<para>ZKを実行するのに必要なライブラリーはこのフォルダにあります。</para></sect1><sect1><title>/dist/lib/zkforge</title>
<para>FCKedeitor等ZK Forgeのコンポーネンツはこのフォルダに入っています。これらのコンポーネンツを使用する場合のみ、下記のファイルが必要です。</para>
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row>
<entry>
<para>File</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead><tbody>
<row>
<entry>
<para>
<code>fckez.jar</code>
</para>
</entry>
<entry>
<para>ZK FCKeditorコンポーネントを使う場合に必要</para>
<para>Version: 2.6.4.1_50</para>
</entry>
</row>
<row>
<entry>
<para>
<code>ckez.jar</code>
</para>
</entry>
<entry>
<para>ZK CKeditorコンポーネントを使う場合に必要</para>
<para>Version: 3.0_50</para>
<para>[コミュニティ版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>gmapsz.jar</code>
</para>
</entry>
<entry>
<para>ZK Google Mapsコンポーネントを使う場合に必要</para>
<para>Version: 2.0_50</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>timelinez.jar</code>
</para>
</entry>
<entry>
<para>ZK Timelineコンポーネントを使う場合に必要</para>
<para>Version: 2.3.0_50</para>
<para>[コミュニティ版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>timeplotz.jar</code>
</para>
</entry>
<entry>
<para>ZK Timeplotコンポーネントを使う場合に必要</para>
<para>Version: 1.0_50</para>
<para>[コミュニティ版には入っておりません]]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>zuljsp.jar</code>
</para>
</entry>
<entry>
<para>ZK JSP Tagsコンポーネントを使う場合に必要</para>
<para>Version: 1.4.0-RC</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row></tbody></tgroup>
</informaltable></sect1><sect1><title>/dist/lib/ext</title>
<para>ZKを実行するのに必要な外部ライブラリーはこちらになります。一般的なライブラリーですので、既にインストールされている可能性があります。</para>
<para>オプションのjarファイルは以下です。デザインにより、必要なものだけコピーしましょう。</para>
<informaltable frame="all">
<tgroup cols="2">
<thead>
<row>
<entry>
<para>File</para>
</entry>
<entry>
<para>Description</para>
</entry>
</row>
</thead><tbody>
<row>
<entry>
<para>
<code>com</code>
<code>mons-fileupload.jarcommons-io.jar</code>
</para>
</entry>
<entry>
<para>これらのファイルでアップロード機能を実現する場合に使う</para>
<para>Version: Commons Fileupload 1.2.1 and Commons IO 1.3.1</para>
</entry>
</row>
<row>
<entry>
<para>
<code>jcommon.jarjfreechar.jar</code>
</para>
</entry>
<entry>
<para>ZULのチャートコンポーネントを使用する場合に使う.</para>
<para>Version: <ulink url="http://www.jfree.org/jfreechart/">JFreeChart</ulink> 1.0.13 and <ulink url="http://www.jfree.org/jcommon">JCommon</ulink> 1.0.16</para>
<para>[コミュニティ版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>jasperreports.jaritext.jarjxl.jarpoi.jarcommons-collections.jarcommons-logging.jarcommons-digester.jar</para>
</entry>
<entry>
<para>jasperreport コンポーネントを使用する場合に使う</para>
<para>Version: Jasper Reports 3.7.0(itext: 2.1.7, commons-collections: 3.2.1, commons-logging: 1.1.1, commons-digester:2.0, jxl: 2.6.12, poi: 3.2)</para>
<para>補足：poi.jar は Apache POI からエクセルに変換する際に使います。また、jxl.jar は JExcelApi からエクセルに変換する際に必要になります。</para>
<para>[コミュニティ版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>bsh.jar</code>
</para>
</entry>
<entry>
<para>Java interpreter (<ulink url="http://www.beanshell.org/">BeanShell</ulink>)でスクリプトを作成する場合に使う</para>
<para>Version: <ulink url="http://www.beanshell.org/">BeanShell</ulink> 2.0b4</para>
</entry>
</row>
<row>
<entry>
<para>
<code>js.jar</code>
</para>
</entry>
<entry>
<para>JavaScript (<ulink url="http://www.mozilla.org/rhino/">Rhino</ulink>)でスクリプトを作成する場合に使う</para>
<para>Version: Rhino 1.7R2 (for Java 5.0)</para>
</entry>
</row>
<row>
<entry>
<para>
<code>groovy.jar</code>
</para>
</entry>
<entry>
<para>
<ulink url="http://groovy.codehaus.org/">Groovy</ulink>
<ulink url="http://groovy.codehaus.org/">でスクリプトを作成する場合に使う</ulink>
</para>
<para>Version: <ulink url="http://groovy.codehaus.org/">Groovy</ulink> 1.7 (groovy-all)</para>
</entry>
</row>
<row>
<entry>
<para>
<code>jruby.jar</code>
</para>
</entry>
<entry>
<para>Ruby (<ulink url="http://jruby.codehaus.org/">JRuby</ulink>) でスクリプトを作成する場合に使う</para>
<para>Version: <ulink url="http://jruby.codehaus.org/">JRuby</ulink> 1.1.2 (jruby-complete)</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>jython.jar</code>
</para>
</entry>
<entry>
<para>Python (<ulink url="http://www.jython.org/">Jython</ulink>) でスクリプトを作成する場合に使う</para>
<para>Version: <ulink url="http://www.jython.org/">Jython</ulink> 2.5.0</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>Filters.jar</code>
</para>
</entry>
<entry>
<para>
<code>captcha</code> コンポーネントを使用する場合に使う</para>
<para>Version: JH Labs Java Image Filters</para>
<para>[コミュニティ版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>mvel</code>
<code>.jar</code>
</para>
</entry>
<entry>
<para>MVELを使用する場合に使う</para>
<para>Version: MVEL 1.2.21 (Java1.4用)</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row>
<row>
<entry>
<para>
<code>ognl.jar</code>
</para>
</entry>
<entry>
<para>OGNLを使用する場合に使う</para>
<para>Version: OGNL 2.6.9</para>
<para>[コミュニティ版・Pro版には入っておりません]</para>
</entry>
</row></tbody></tgroup>
</informaltable></sect1><sect1><title>/dist/src</title>
<para>Eclipse等IDEをデバッグするに使うソースコードはJARファイルの形で保存されています。これらのファイルからバイナリライブラリーを編集することはできません。編集する場合は<code>zk-src-5.0.4</code>
<code>.tar.gz</code>をダウンロードし、解凍してください。</para></sect1><sect1><title>/dist/xsd</title>
<para>ZKアプリケーションを開発する際便利なXSDファイルはこちらです。</para></sect1><sect1><title>/dist/WEB-INF</title>
<para>ZKアプリケーションを開発する際便利なTLDファイルはこのフォルダに入っています。</para></sect1></chapter>
<chapter>
<title>5. デモパッケージ</title>
<para>この章はzk-demo-5.0.4.zipについて説明します。</para><sect1><title>/</title>
<para>
<code>zkdemo.war</code>
<code>、</code>
<code>zkdemo-min.war</code>
<code>、</code>
<code>zkdemos.ear</code>
<code>、</code>
<code>zkdemos-min.ear</code>計４つの実行ファイルがこのフォルダに入っています。詳細は 3.インストール を参考にしてください。</para></sect1><sect1><title>/zkdemo</title>
<para>ライブデモのソースコードはこちらに入っています。</para></sect1><sect1><title>/MyApp</title>
<para>このディレクトリーの下でウェブアプリケーションを新規作成しましょう。</para></sect1></chapter>
<chapter>
<title>6. 初めてのZKアプリ</title>
<para>WEB-INF/web.xmlを用意しましょう</para>
<para>まずは以下の内容をWEB-INFの下にある<code>web.xml</code>にコピーしましょう。新しいアプリケーションを開発するたびに必ずこれを実行しなければなりません。次にZUL・ZHTMLファイルを適当なディレクトリーにコピーします。</para>
<programlisting>&lt;web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"&#13;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&#13;xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"&gt; &#13;&#13;    &lt;!-- //// --&gt;    &#13;    &lt;!-- ZK --&gt;    &#13;    &lt;listener&gt;    &#13;        &lt;description&gt;ZK listener for session cleanup&lt;/description&gt;        &#13;        &lt;listener-class&gt;org.zkoss.zk.ui.http.HttpSessionListener&lt;/listener-class&gt;        &#13;    &lt;/listener&gt;    &#13;    &lt;servlet&gt;    &#13;        &lt;description&gt;ZK loader for evaluating ZK pages&lt;/description&gt;        &#13;        &lt;servlet-name&gt;zkLoader&lt;/servlet-name&gt;        &#13;        &lt;servlet-class&gt;org.zkoss.zk.ui.http.DHtmlLayoutServlet&lt;/servlet-class&gt;        &#13;&#13;        &lt;!-- Must. Specifies URI of the update engine        &#13;        (DHtmlUpdateServlet). --&gt;        &#13;        &lt;init-param&gt;        &#13;            &lt;param-name&gt;update-uri&lt;/param-name&gt;            &#13;            &lt;param-value&gt;/zkau&lt;/param-value&gt;            &#13;        &lt;/init-param&gt;        &#13;        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;!-- MUST --&gt;        &#13;    &lt;/servlet&gt;    &#13;    &lt;servlet-mapping&gt;    &#13;        &lt;servlet-name&gt;zkLoader&lt;/servlet-name&gt;        &#13;        &lt;url-pattern&gt;*.zul&lt;/url-pattern&gt;        &#13;    &lt;/servlet-mapping&gt;    &#13;    &lt;servlet-mapping&gt;    &#13;        &lt;servlet-name&gt;zkLoader&lt;/servlet-name&gt;        &#13;        &lt;url-pattern&gt;*.zhtml&lt;/url-pattern&gt;        &#13;    &lt;/servlet-mapping&gt;    &#13;    &lt;servlet&gt;    &#13;        &lt;description&gt;The asynchronous update engine for ZK&lt;/description&gt;        &#13;        &lt;servlet-name&gt;auEngine&lt;/servlet-name&gt;        &#13;        &lt;servlet-class&gt;org.zkoss.zk.au.http.DHtmlUpdateServlet&lt;/servlet-class&gt;        &#13;    &lt;/servlet&gt;    &#13;    &lt;servlet-mapping&gt;    &#13;        &lt;servlet-name&gt;auEngine&lt;/servlet-name&gt;        &#13;        &lt;url-pattern&gt;/zkau/*&lt;/url-pattern&gt;        &#13;    &lt;/servlet-mapping&gt;    &#13;    &lt;!-- //// --&gt;    &#13;&#13;    &lt;!-- MIME mapping --&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;gif&lt;/extension&gt;        &#13;        &lt;mime-type&gt;image/gif&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;html&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/html&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;htm&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/html&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;jad&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/vnd.sun.j2me.app-descriptor&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;jpeg&lt;/extension&gt;        &#13;        &lt;mime-type&gt;image/jpeg&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;jpg&lt;/extension&gt;        &#13;        &lt;mime-type&gt;image/jpeg&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;js&lt;/extension&gt;        &#13;        &lt;mime-type&gt;application/x-javascript&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;png&lt;/extension&gt;        &#13;        &lt;mime-type&gt;image/png&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;txt&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/plain&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;xml&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/xml&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;zhtml&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/html&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;    &lt;mime-mapping&gt;    &#13;        &lt;extension&gt;zul&lt;/extension&gt;        &#13;        &lt;mime-type&gt;text/html&lt;/mime-type&gt;        &#13;    &lt;/mime-mapping&gt;    &#13;&#13;    &lt;welcome-file-list&gt;    &#13;        &lt;welcome-file&gt;index.zul&lt;/welcome-file&gt;        &#13;        &lt;welcome-file&gt;index.zhtml&lt;/welcome-file&gt;        &#13;        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;        &#13;        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;        &#13;    &lt;/welcome-file-list&gt;    &#13;</programlisting>
<para>
<code>&lt;/web-app&gt;</code>
</para><sect1><title>初めての Hello World</title>
<para>以下のプログラムと同じ内容のhello.zulファイルを作りましょう。そうすればブラウザ(　<ulink url="http://localhost:8080/zkdemo/hello.zul">http://localhost:8080/zkdemo/hello.zul</ulink> )から結果が確認できます。パスはウェブサーバの設定により異なります。</para>
<programlisting>&lt;window title="My First window" border="normal" width="200px"&gt;&#13;    Hello, World!    &#13;</programlisting>
<para>
<code>&lt;/window&gt;</code>
</para>
<para>結果は以下の通りです：</para>
<para>
<graphic fileref="images/hello.gif"/>
</para>
<para>ここで注意しなければならないのは、hello.zulはXUL<footnote>
<para>
<ulink url="http://xul.sourceforge.net/mozilla.html">http://</ulink>
<ulink url="http://xul.sourceforge.net/mozilla.html">xul.sourceforge.net/mozilla.html</ulink>
</para>
</footnote>と類似していますが、それはXULではなくZUMLです。ZLローダーはZUMLをIE等のブラウザが読めるHTMLページに変換します。詳しくは「開発者ガイド」をご覧ください。</para></sect1></chapter>
</book>
