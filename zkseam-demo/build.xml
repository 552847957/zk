<?xml version="1.0" encoding="BIG5"?>
<project name="Build" default="rebuildAll" basedir=".">
	
	<property name="src.dir.name" value="src"/>
	<property name="build.dir.name" value="antbuild"/>
	<property name="resources.dir.name" value="${build.dir.name}/resources"/>
	<property name="classes.dir.name" value="${build.dir.name}/classes"/>
	
	<property name="war.name" value="${build.dir.name}/zkSeam-Demo.war"/>
	
	<target name="rebuildAll" depends="clear, compile, copyResources, buildWar"/>
	<target name="buildAll" depends="compile, copyResources, buildWar"/>
	
	<target name="clear">
		<delete dir="${build.dir.name}"/>
		<mkdir dir="${resources.dir.name}"/>
		<mkdir dir="${classes.dir.name}"/>
	</target>
	
	<target name="compile">
		<javac fork="true" debug="true" compiler="modern" destdir="${classes.dir.name}">
			<src path="${src.dir.name}"/>
			<classpath>
				<fileset dir="WebContent/WEB-INF/lib/">
					<include name="*.jar"/>
				</fileset>
			</classpath>
		</javac>
	</target>
	
	<target name="copyResources">
		<!--copy todir="${build.dir.name}">
			<fileset dir="${resource.dir.name}">
				<include name="**/*.*"/>
			</fileset>
		</copy-->
	</target>
	
	<target name="buildWar" >
		<war destfile="${war.name}" webxml="WebContent/WEB-INF/web.xml" compress="false" >
			<fileset dir="WebContent">
				<include name="**"/>
			</fileset>
			<classes dir="${classes.dir.name}"/>
			<classes dir="config"/>
		</war>
	</target>
	
</project>
    
      