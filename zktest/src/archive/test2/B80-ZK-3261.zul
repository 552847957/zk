<?xml version="1.0" encoding="UTF-8"?>

<!--
B80-ZK-3261.zul

	Purpose:
		
	Description:
		
	History:
		Mon Jul 25 14:13:50 CST 2016, Created by wenninghsu

Copyright (C) 2016 Potix Corporation. All Rights Reserved.

-->
<zk>
	<script><![CDATA[
       zk.afterLoad('zul.menu', function () {
          var _xMenupopup = {};
          zk.override(zul.menu.Menupopup.prototype, _xMenupopup, {
             onHide: function () {
                _xMenupopup.onHide.apply(this, arguments);
                zk.log('popupmenu onHide');
             }
          });
       });
    ]]></script>
    <label multiline="true">should see "popupmenu onHide" in zklog within 10 seconds

    </label>
    <cardlayout id="cardLayout" width="300px" height="300px" style="box-shadow: 4px 4px 5px rgba(0, 0, 0, 0.4); margin: 15px;">
        <div id="pane1" style="background-color: DarkSeaGreen; padding: 15px;" vflex="1">
            pane1
            <menubar id="menubar" width="200px">
                <menu id="mn1" label="Test">
                    <menupopup>
                        <menuitem label="href1" href="http://www.zkoss.org"/>
                        <menuitem label="href2" href="/test2/test.zul"/>
                    </menupopup>
                </menu>
            </menubar>
        </div>
        <div id="pane2" style="background-color: BurlyWood; padding: 15px;" vflex="1">
            pane2
        </div>
    </cardlayout>
    <timer delay="5000" onTimer="javascript:mn1.open()"/>
    <timer delay="7000" onTimer="cardLayout.setSelectedIndex(1)"/>
</zk>